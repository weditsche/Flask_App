{% extends 'base.html' %}


{% block content %}
<!-- Marketing messaging and featurettes
 ================================================== -->
<!-- Wrap the rest of the page in another container to center all the content. -->

<div class="container marketing">

    <!-- START THE FEATURETTES -->
    <div class="signpost"><h1>Library/ Search Book Titles</h1></div>

    <hr class="featurette-divider">

    <div class="row featurette">
        <div class="col-md-7">
            <h2 class="featurette-heading">Search for book titles</h2>

            <p class="lead">Search provides only book titles, not the inventory number.</p>

            <p>Hint:
            <ul>
                <li>you need only parts of the book title (an % at the beginning searches on each position of the title)</li>
                <li>keywords have to be entered exactly as stored in the database</li>
              </ul>
            </p>

            <form method="post" style="">
	            <input type="hidden" name="menu" value="search_book" />
	            <table class="table table-responsive table-striped table-hover">
	        	<tbody>
    	        	<tr><td>Name</td><td><input name="bookname" value="{{ request.form['bookname'] }}" /></td></tr>
		            <tr><td>Keywords</td><td><input name="keywords" value="{{ request.form['keywords'] }}" /></td></tr>
		        	</tr>
		        </tbody>
	            </table>
	            <button type="submit" class="btn btn-primary" style="float: right">
					<span class="btn btn-primary"></span> Search...
				</button>
            </form>

            {% if booklist %}
                <table class="table table-responsive table-striped table-hover">
                <thead>
                    <tr>
                        <th>Book title</th>
                        <th>ISBN</th>
                        <th>Publisher</th>
                        <th>Publishing Place</th>
                        <th>Available Copies</th>
                        <th>Edition</th>
                        <th>Year of Publication</th>
                        <th>Pages</th>
                        <th>Price (EUR)</th>
                    </tr>
                </thead>
                <tbody>
                {% for book in booklist %}
                    <!-- dict keys in examlist as defined in the SQL statement in exams.py-->
                    <tr>
                        <td>{{ book['titel'] }}</td>
                        <td>{{ book['isbn'] }}</td>
                        <td>{{ book['verlagsname'] }}</td>
                        <td>{{ book['verlagsort'] }}</td>
                        <td>{{ book['anzahl'] }}</td>
                        <td>{{ book['auflage'] }}</td>
                        <td>{{ book['jahr'] }}</td>
                        <td>{{ book['seiten'] }}</td>
                        <td>{{ book['preis'] }}</td>
                    </tr>
                 {% endfor %}
                </tbody>
                </table>
            {% endif %}

        </div>

        <div class="col-md-5">
            <img class="img-fluid img-thumbnail" width="300" height="300" src="{{ url_for('static', filename='/pics/books.jpg') }}"/>
        </div>
    </div>

    <!--<hr class="featurette-divider">-->

    <!-- /END THE FEATURETTES -->

</div><!-- /.container -->


{% endblock %}
